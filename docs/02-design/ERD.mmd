---
config:
  layout: elk
  theme: neutral
---
erDiagram
	direction TB
	SURAT {
		int surat_id PK ""  
		varchar nomor_surat UK ""  
		int jenis_surat_id FK ""  
		int unit_pengirim_id FK ""  
		int unit_penerima_id FK ""  
		date tanggal_terima  ""  
		date tanggal_terbit  ""  
		varchar perihal  ""  
		int jumlah_lampiran  ""  
		varchar channel  ""  
		varchar status  ""  
		datetime created_at  ""  
		datetime updated_at  ""  
	}
	DISPOSISI_SURAT {
		int disposisi_id PK ""  
		int surat_id FK ""  
		int pegawai_id FK ""  
		int unit_tujuan_id FK ""  
		date tanggal_disposisi  ""  
		text instruksi  ""  
		varchar status  ""  
		date tanggal_selesai  ""  
	}
	JENIS_SURAT {
		int jenis_surat_id PK ""  
		varchar kode_jenis UK ""  
		varchar nama_jenis  ""  
		varchar kategori  ""  
		varchar sifat  ""  
		int sla_hari  ""  
		boolean is_active  ""  
	}
	UNIT_KERJA {
		int unit_id PK ""  
		varchar kode_unit UK ""  
		varchar nama_unit  ""  
		int parent_unit_id FK ""  
		int level  ""  
		varchar kepala_unit_nip FK ""  
		varchar email_unit  ""  
		varchar telepon  ""  
		boolean is_active  ""  
	}
	PEGAWAI {
		int pegawai_id PK ""  
		varchar nip UK ""  
		varchar nama  ""  
		int unit_id FK ""  
		varchar jabatan  ""  
		varchar status_kepegawaian  ""  
		date tanggal_masuk  ""  
		varchar email  ""  
		varchar no_hp  ""  
		boolean is_active  ""  
	}
	ASET {
		int aset_id PK ""  
		varchar kode_aset UK ""  
		int barang_id FK ""  
		int lokasi_id FK ""  
		int unit_pemilik_id FK ""  
		varchar nomor_seri  ""  
		date tanggal_perolehan  ""  
		decimal nilai_perolehan  ""  
		decimal nilai_buku  ""  
		varchar kondisi  ""  
		varchar status_pemanfaatan  ""  
		datetime created_at  ""  
	}
	BARANG {
		int barang_id PK ""  
		varchar kode_barang UK ""  
		varchar nama_barang  ""  
		varchar kategori  ""  
		varchar subkategori  ""  
		varchar satuan  ""  
		varchar merk  ""  
		text spesifikasi  ""  
		boolean is_bergerak  ""  
		boolean is_tik  ""  
	}
	LOKASI {
		int lokasi_id PK ""  
		varchar kode_lokasi UK ""  
		varchar nama_lokasi  ""  
		varchar jenis_lokasi  ""  
		varchar gedung  ""  
		varchar lantai  ""  
		int kapasitas  ""  
		text keterangan  ""  
	}
	MAINTENANCE_ASET {
		int maintenance_id PK ""  
		int aset_id FK ""  
		date tanggal_maintenance  ""  
		varchar jenis_maintenance  ""  
		text deskripsi  ""  
		decimal biaya  ""  
		int teknisi_id FK ""  
		varchar status  ""  
	}
	PEMINJAMAN_RUANGAN {
		int peminjaman_id PK ""  
		int lokasi_id FK ""  
		int pemohon_id FK ""  
		int unit_pemohon_id FK ""  
		date tanggal_peminjaman  ""  
		time waktu_mulai  ""  
		time waktu_selesai  ""  
		varchar keperluan  ""  
		int jumlah_peserta  ""  
		varchar status_approval  ""  
		int approver_id FK ""  
		date tanggal_approval  ""  
		decimal rating  ""  
		text feedback  ""  
	}
	LAYANAN {
		int layanan_id PK ""  
		varchar nomor_tiket UK ""  
		int jenis_layanan_id FK ""  
		int pemohon_id FK ""  
		int unit_pemohon_id FK ""  
		int penanggung_jawab_id FK ""  
		datetime tanggal_request  ""  
		datetime tanggal_respon  ""  
		datetime tanggal_selesai  ""  
		text deskripsi  ""  
		text solusi  ""  
		varchar status  ""  
		decimal rating_kepuasan  ""  
		decimal biaya_layanan  ""  
	}
	JENIS_LAYANAN {
		int jenis_layanan_id PK ""  
		varchar kode_layanan UK ""  
		varchar nama_layanan  ""  
		varchar kategori_layanan  ""  
		int sla_target_jam  ""  
		boolean is_active  ""  
	}
	SURAT||--o{DISPOSISI_SURAT:"memiliki"
	SURAT}o--||JENIS_SURAT:"berjenis"
	SURAT}o--||UNIT_KERJA:"dikirim_oleh"
	SURAT}o--||UNIT_KERJA:"diterima_oleh"
	DISPOSISI_SURAT}o--||PEGAWAI:"didisposisi_ke"
	DISPOSISI_SURAT}o--||UNIT_KERJA:"ditujukan_ke"
	UNIT_KERJA||--o{UNIT_KERJA:"parent_of"
	UNIT_KERJA}o--||PEGAWAI:"dipimpin_oleh"
	PEGAWAI}o--||UNIT_KERJA:"bekerja_di"
	ASET}o--||BARANG:"merupakan"
	ASET}o--||LOKASI:"berada_di"
	ASET}o--||UNIT_KERJA:"dimiliki_oleh"
	ASET||--o{MAINTENANCE_ASET:"memiliki"
	MAINTENANCE_ASET}o--||PEGAWAI:"ditangani_oleh"
	PEMINJAMAN_RUANGAN}o--||LOKASI:"meminjam"
	PEMINJAMAN_RUANGAN}o--||PEGAWAI:"dipinjam_oleh"
	PEMINJAMAN_RUANGAN}o--||UNIT_KERJA:"atas_nama"
	PEMINJAMAN_RUANGAN}o--||PEGAWAI:"disetujui_oleh"
	LAYANAN}o--||JENIS_LAYANAN:"berjenis"
	LAYANAN}o--||PEGAWAI:"dimohon_oleh"
	LAYANAN}o--||UNIT_KERJA:"dari_unit"
	LAYANAN}o--||PEGAWAI:"ditangani_oleh"
